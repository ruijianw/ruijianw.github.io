<!DOCTYPE html>





<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 3.9.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=7.4.1">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=7.4.1">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=7.4.1">
  <link rel="mask-icon" href="/images/logo.svg?v=7.4.1" color="#222">

<link rel="stylesheet" href="/css/main.css?v=7.4.1">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.7.0">


<script id="hexo-configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '7.4.1',
    exturl: false,
    sidebar: {"position":"left","display":"post","offset":12,"onmobile":false},
    copycode: {"enable":false,"show_result":false,"style":null},
    back2top: {"enable":true,"sidebar":false,"scrollpercent":false},
    bookmark: {"enable":false,"color":"#222","save":"auto"},
    fancybox: false,
    mediumzoom: false,
    lazyload: false,
    pangu: false,
    algolia: {
      appID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    },
    localsearch: {"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},
    path: '',
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    translation: {
      copy_button: 'Copy',
      copy_success: 'Copied',
      copy_failure: 'Copy failed'
    },
    sidebarPadding: 40
  };
</script>

  <meta name="description" content="Out of vocabulary problem is very common problem in NLP, it can be seen in text classification, named entity recognition, information retrieval, etc. It is caused by multiple reasons and there are mul">
<meta property="og:type" content="article">
<meta property="og:title" content="Handling out of vocabulary(OOV) word">
<meta property="og:url" content="http://yoursite.com/2019-10-20-Handling-out-of-vocabulary-OOV-word/index.html">
<meta property="og:site_name" content="Ruijian&#39;s Blog">
<meta property="og:description" content="Out of vocabulary problem is very common problem in NLP, it can be seen in text classification, named entity recognition, information retrieval, etc. It is caused by multiple reasons and there are mul">
<meta property="og:locale" content="en">
<meta property="og:updated_time" content="2019-10-20T23:55:43.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Handling out of vocabulary(OOV) word">
<meta name="twitter:description" content="Out of vocabulary problem is very common problem in NLP, it can be seen in text classification, named entity recognition, information retrieval, etc. It is caused by multiple reasons and there are mul">
  <link rel="canonical" href="http://yoursite.com/2019-10-20-Handling-out-of-vocabulary-OOV-word/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome: false,
    isPost: true,
    isPage: false,
    isArchive: false
  };
</script>

  <title>Handling out of vocabulary(OOV) word | Ruijian's Blog</title>
  
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-149873543-1"></script>
    <script>
      var host = window.location.hostname;
      if (host !== "localhost" || !true) {
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'UA-149873543-1');
      }
    </script>
  








  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Ruijian's Blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
  </div>

  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
      
      
        
        
        <li class="menu-item menu-item-home">
      
    

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>Home</a>

  </li>
      
    
      
      
        
        
        <li class="menu-item menu-item-archives">
      
    

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>Archives</a>

  </li>
      
    
  </ul>

    

</nav>
</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div class="posts-expand">
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block " lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019-10-20-Handling-out-of-vocabulary-OOV-word/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Ruijian Wang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Ruijian's Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            Handling out of vocabulary(OOV) word
            

          
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              
                
              

              <time title="Created: 2019-10-20 19:55:43" itemprop="dateCreated datePublished" datetime="2019-10-20T19:55:43-04:00">2019-10-20</time>
            </span>
          

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p>Out of vocabulary problem is very common problem in NLP, it can be seen in text classification, named entity recognition, information retrieval, etc.</p>
<p>It is caused by multiple reasons and there are multiple solutions for it.</p>
<a id="more"></a>
<h1 id="Reasons-for-OOV"><a href="#Reasons-for-OOV" class="headerlink" title="Reasons for OOV"></a>Reasons for OOV</h1><h2 id="typos"><a href="#typos" class="headerlink" title="typos"></a>typos</h2><p>Typos is great source to generate OOV word, especially on mobile phones without spell correction. You can easily type <code>hello</code> as <code>helo</code></p>
<h2 id="different-vocabularies"><a href="#different-vocabularies" class="headerlink" title="different vocabularies"></a>different vocabularies</h2><p>If your model is trained with a limited dataset, it is very likely you have a limited vocabulary. When you apply your model to new data, your model will fail to recognize some words. As for the reason to have a limited trainign data, there are many reasons, e.g.</p>
<ul>
<li>new words are being created every second </li>
<li>you cannot afford to annotate too many data</li>
</ul>
<hr>
<h1 id="Solutions"><a href="#Solutions" class="headerlink" title="Solutions"></a>Solutions</h1><h2 id="Ignore"><a href="#Ignore" class="headerlink" title="Ignore"></a>Ignore</h2><p>Ignoring is probably the worst solution of all, that means the model pretends to not see the word.</p>
<h2 id="UNK-word"><a href="#UNK-word" class="headerlink" title="UNK word"></a>UNK word</h2><p>This solution is to reserve a dimension in feature space, it may eliminate some impact of OOV word, but very limited. Especially the OOV word plays an important role in the NLP task, e.g. some positive and negative words are OOV words in sentiment analysis.</p>
<h2 id="Feature-Hashing"><a href="#Feature-Hashing" class="headerlink" title="Feature Hashing"></a>Feature Hashing</h2><p>Feature hashing is not really designed for the OOV words, The idea is to blindly trust the hash collision to bring some good luck to the model. Of course it can go south a lot.</p>
<h2 id="Spell-check"><a href="#Spell-check" class="headerlink" title="Spell check"></a>Spell check</h2><p>If you have observed a lot of OOV words are caused by typos(e.g. chatbot), it is pretty natural to use spell check, but one caveat is that, the spell check may over-correct some correct words, you have to use the corrected words as additional feature and combine this with other solutions together.</p>
<h2 id="Subword"><a href="#Subword" class="headerlink" title="Subword"></a>Subword</h2><p>I learned it from Facebook’s <code>fasttext</code> library, it breaks down the word/string to multiple consecutive characters. For example, if you want to break <code>hello world</code> into 3-gram-char pieces within the word, you will have features like <code>hel</code>, <code>ell</code>, <code>llo</code>, <code>wor</code>, <code>orl</code>, <code>rld</code>. If you want to break the string into pieces, aka across the words, some additional features apart from the previous ones are <code>lo⎵</code>, <code>o⎵w</code>, <code>⎵wo</code> (<code>⎵</code> means white space).</p>
<p><code>scikit-learn</code> already has it as a built-in feature, check the <code>Vectoriziers</code> under <code>sklearn.feature_extraction.text</code>, the <code>analyzer</code> parameter has a <code>char</code> and <code>char_wb</code> options, it corresponds to <code>subword across words</code> and <code>subword within word</code> accordingly.</p>
<p>In fact, it is also used in <code>MinHash</code> and <code>SimHash</code> for near-duplicate detection. Ask google for more details.</p>
<h2 id="Wordpiece-BPE-ULM"><a href="#Wordpiece-BPE-ULM" class="headerlink" title="Wordpiece/BPE/ULM"></a>Wordpiece/BPE/ULM</h2><p>Those methods work similiarly like the <code>Subword</code> method, but more intelligently. Long word in short:</p>
<ul>
<li>Wordpiece predefines a likelihood threshold or vocabulary size, <ul>
<li>initialize with characters in the training data</li>
<li>train a lanuage model</li>
<li>combine the word units that increase the likelihood of training data the most</li>
<li>until it hits the predefined conditions.</li>
</ul>
</li>
<li>BPE(Bypte Pair Encoding) predefines a vocabulary size, and merge the most frequent word pieces(start from letters in English) until reach the desired vocabulary size</li>
<li>ULM(Unigram Language Model) also leverage the language model to segement words into subwords, but gives multiple subword segmentations with probabilites. </li>
</ul>
<h2 id="External-knowledge"><a href="#External-knowledge" class="headerlink" title="External knowledge"></a>External knowledge</h2><p>External knoledge can be as simple as synonym words, or as complex as knowledge graph, the purpose is to tech the model with prior knowledge apart from the training data. I have seen that being employed in low resource scenarios.</p>
<hr>
<h1 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h1><ol>
<li><a href="https://ieeexplore.ieee.org/abstract/document/6289079" target="_blank" rel="noopener">Schuster, Mike, and Kaisuke Nakajima. “Japanese and korean voice search.” 2012 IEEE International Conference on Acoustics, Speech and Signal Processing (ICASSP). IEEE, 2012.</a></li>
<li><a href="https://arxiv.org/abs/1508.07909" target="_blank" rel="noopener">Sennrich, Rico, Barry Haddow, and Alexandra Birch. “Neural machine translation of rare words with subword units.” arXiv preprint arXiv:1508.07909 (2015).</a></li>
<li><a href="https://arxiv.org/abs/1804.10959" target="_blank" rel="noopener">Kudo, Taku. “Subword regularization: Improving neural network translation models with multiple subword candidates.” arXiv preprint arXiv:1804.10959 (2018).</a></li>
</ol>
<!--
TODO:
1. Viterbi algorithm
2. Language model
3. why fixed vocabulary size in Neural Machine translation
-->
    </div>

    
    
    
        
      

      <footer class="post-footer">

        

          <div class="post-nav">
            <div class="post-nav-next post-nav-item">
              
                <a href="/2019-05-05-Better-communication-with-your-manager/" rel="next" title="Better communication with your manager">
                  <i class="fa fa-chevron-left"></i> Better communication with your manager
                </a>
              
            </div>

            <span class="post-nav-divider"></span>

            <div class="post-nav-prev post-nav-item">
              
            </div>
          </div>
        
      </footer>
    
  </article>
  
  
  

  </div>


          </div>
          

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">
        
        
        
        
      

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Reasons-for-OOV"><span class="nav-number">1.</span> <span class="nav-text">Reasons for OOV</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#typos"><span class="nav-number">1.1.</span> <span class="nav-text">typos</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#different-vocabularies"><span class="nav-number">1.2.</span> <span class="nav-text">different vocabularies</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Solutions"><span class="nav-number">2.</span> <span class="nav-text">Solutions</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Ignore"><span class="nav-number">2.1.</span> <span class="nav-text">Ignore</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#UNK-word"><span class="nav-number">2.2.</span> <span class="nav-text">UNK word</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Feature-Hashing"><span class="nav-number">2.3.</span> <span class="nav-text">Feature Hashing</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Spell-check"><span class="nav-number">2.4.</span> <span class="nav-text">Spell check</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Subword"><span class="nav-number">2.5.</span> <span class="nav-text">Subword</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Wordpiece-BPE-ULM"><span class="nav-number">2.6.</span> <span class="nav-text">Wordpiece/BPE/ULM</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#External-knowledge"><span class="nav-number">2.7.</span> <span class="nav-text">External knowledge</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Reference"><span class="nav-number">3.</span> <span class="nav-text">Reference</span></a></li></ol></div>
        
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Ruijian Wang</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        
          <a href="/archives/">
        
          <span class="site-state-item-count">5</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
    
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        

<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2019</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Ruijian Wang</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> v3.9.0
  </div>
  <span class="post-meta-divider">|</span>
  <div class="theme-info">
      
    Theme – <a href="https://muse.theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a> v7.4.1
  </div>

        












        
      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js?v=3.1.0"></script>
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
<script src="/js/utils.js?v=7.4.1"></script><script src="/js/motion.js?v=7.4.1"></script>
<script src="/js/schemes/muse.js?v=7.4.1"></script>
<script src="/js/next-boot.js?v=7.4.1"></script>



  





















  

  

  

  

</body>
</html>
